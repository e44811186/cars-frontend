<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Car Shop</title>
    <meta charset="UTF-8">
    <base href="/" />
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <!-- Header -->
    <div class="header">
      <img src="images/logo.png" alt="Logo" />
      <h1>Список машин</h1>
    </div>

    <!-- Banner -->
    <img src="images/main-car.png" alt="Main car" class="main-banner" />

    <!-- Cars -->
    <div id="cars-list" class="cars-container"></div>

    <!-- Order section -->
    <div class="order-section">
      <img src="images/order-car.png" alt="Order car" />
      <h2>Закажи свою машину прямо сейчас!</h2>
      <button id="order-btn">Сделать заказ</button>
    </div>

    <script>
      const API_BASE = "https://cars-api-ur5t.onrender.com";

      async function loadCars() {
        try {
          const res = await fetch(`${API_BASE}/api/cars`);
          const cars = await res.json();

          const list = document.getElementById("cars-list");
          list.innerHTML = "";

          cars.forEach((c) => {
            const item = document.createElement("div");
            item.className = "car-card";
            item.innerHTML = `
              <img src="${c.imageUrl}" alt="${c.brand} ${c.model}">
              <h3>${c.brand} ${c.model} (${c.year})</h3>
              <p>${c.description}</p>
              <strong>$${c.price.toLocaleString()}</strong>
              <button class="buy-btn">Заказать</button>
            `;
            list.appendChild(item);
          });
        } catch (err) {
          console.error("Ошибка загрузки:", err);
        }
      }

      loadCars();
    </script>
  </body>
</html>
